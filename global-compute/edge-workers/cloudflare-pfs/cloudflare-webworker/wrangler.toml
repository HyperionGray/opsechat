name = "packetfs-translator-cdn"
main = "index.js"
compatibility_date = "2024-01-01"

# PFS Translator VM Distribution Worker
# Serves translator VMs from 300+ Cloudflare edge locations!
# ðŸŒŠ THE VIRAL SPREAD BEGINS HERE ðŸ”¥

# R2 Buckets (create these first!)
[[r2_buckets]]
binding = "DESC_BUCKET"
bucket_name = "pfs-descriptors"

[[r2_buckets]]
binding = "TRANSLATOR_BUCKET"
bucket_name = "pfs-translators"

# KV Namespaces for pCPU state (execution-at-rest!)
[[kv_namespaces]]
binding = "PCPU_STATE"
id = "f04857ff4ccc42189f2e1503a8c706a6"


# Environment variables
[vars]
STATIC_ORIGIN = ""  # Optional fallback origin

# Workers limits
# Free tier: 100,000 requests/day
# Enough to deploy to thousands of machines! ðŸ’Ž

# Cron trigger - wake up edges automatically!
[triggers]
crons = ["* * * * *"]  # Every minute!
